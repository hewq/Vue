<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="UTF-8">
	<title></title>
</head>
<body>
	<div id="app">
		<audio :src="getCurrentSongSrc" autoplay controls></audio>
		<ul>
			<li v-for="(item, index) in musicData" @click="clickHandler(index)" :class="{active: currentIndex === index}">
				<h2>{{item.id}} - 歌名：{{item.name}}</h2>
				<p>歌手：{{item.author}}</p>
			</li>
		</ul>
	</div>	
	<script type="text/javascript" src="../../node_modules/vue/dist/vue.js"></script>
	<script type="text/javascript">
		var musicData = [
			{id: 1, name: 'a', author: 'aa', songSrc: 'aa.mp3'},
			{id: 2, name: 'b', author: 'ab', songSrc: 'ab.mp3'},
			{id: 3, name: 'c', author: 'ac', songSrc: 'ac.mp3'},
			{id: 4, name: 'd', author: 'ad', songSrc: 'ad.mp3'}
		];	
		new Vue({
			el: '#app',
			data() {
				return {
					musicData: musicData,
					currentIndex: 0
				}
			},
			computed: {
				// setter
				getCurrentSongSrc: {
					set: function (newV) {
						console.log(newV);
						this.currentIndex = newV;
					},
					get: function () {
						return this.musicData[this.currentIndex].songSrc;
					}
				}
			},
			methods: {
				clickHandler(index) {
					// 直接修改数据属性
					this.currentIndex = index;

					this.getCurrentSongSrc
				}
			}
		});
	</script>
	
</body>
</html>